<!-- ‚úÖ Replace your existing HTML with this -->
<div id="output" style="white-space: pre-wrap; background: #fdfdfd; padding: 1.5rem; border: 2px dashed #ccc; border-radius: 12px; margin: 2rem auto; max-width: 800px; font-size: 0.95rem;">
  <textarea id="htmlOutput" rows="20" style="width: 100%; padding: 1rem; font-family: monospace; border: 1px solid #ccc; border-radius: 8px;"></textarea>
</div>

<script>
  function getColor(subject) {
    const colors = {
      math: '#cce0ff',
      english: '#ffd6d6',
      science: '#d1f7d6',
      social: '#fff2cc',
      arts: '#ecd4f2',
      language: '#f7e2c4',
      pe: '#c8f7f2',
      elective: '#e4e4e4',
      other: '#dddddd'
    };
    return colors[subject] || '#ffffff';
  }

  function generateHTML() {
    const subject = document.getElementById("subject").value;
    const bgColor = getColor(subject);

    const html = `
<div style="font-family: 'Nunito', sans-serif; background-color: ${bgColor}; padding: 20px; border-radius: 10px;">
  ${document.getElementById("bannerImage").value ? `<img src="${document.getElementById("bannerImage").value}" alt="Header Banner" style="width: 100%; border-radius: 10px;" />` : ''}
  <h1>${document.getElementById("className").value}</h1>
  <h2>Welcome from ${document.getElementById("teacherName").value}</h2>
  <p>${document.getElementById("welcome").value}</p>
  <p><strong>üìß Email:</strong> ${document.getElementById("email").value}</p>
  ${document.getElementById("phone").value ? `<p><strong>üìû Phone:</strong> ${document.getElementById("phone").value}</p>` : ''}
  ${document.getElementById("hours").value ? `<p><strong>üïí Office Hours:</strong> ${document.getElementById("hours").value}</p>` : ''}
  ${document.getElementById("photo").value ? `<img src="${document.getElementById("photo").value}" alt="Teacher Photo" style="max-width: 150px; border-radius: 50%;" />` : ''}
  <p><strong>üìò Syllabus:</strong> <a href="${document.getElementById("syllabus").value}" target="_blank">View Syllabus</a></p>
  <p><strong>üñ•Ô∏è Live Sessions:</strong> ${document.getElementById("liveInfo").value}</p>
  ${document.getElementById("importantLinks").value.split(',').map(link => {
      const [title, url] = link.split('|');
      return url ? `<p><a href="${url.trim()}" target="_blank">üîó ${title.trim()}</a></p>` : '';
    }).join('')}
  ${document.getElementById("quote").value ? `<blockquote>${document.getElementById("quote").value}</blockquote>` : ''}
  <p><em>Academic Year: ${document.getElementById("schoolYear").value}</em></p>
</div>`;

    document.getElementById("htmlOutput").value = html.trim();
    window.generatedHTML = html;
  }

  function downloadHTML() {
    const blob = new Blob([window.generatedHTML || ''], { type: 'text/html' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'canvas-landing-page.html';
    a.click();
    URL.revokeObjectURL(url);
  }
</script>
